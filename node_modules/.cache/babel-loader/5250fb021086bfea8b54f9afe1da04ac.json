{"ast":null,"code":"import { collection, doc, getDoc, getDocs, getFirestore, query, where } from \"firebase/firestore\";\nconst database = getFirestore();\nexport const getAllProducts = () => {\n  const collectionReference = collection(database, 'items');\n  return getDocs(collectionReference).then(snapshot => {\n    const list = snapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n    return list;\n  }).catch(error => console.warn(error));\n};\nexport const getProduct = id => {\n  const itemReference = doc(database, 'items', id);\n  return getDoc(itemReference).then(snapshot => {\n    if (snapshot.exists()) {\n      const item = {\n        id: snapshot.id,\n        ...snapshot.data()\n      };\n      return item;\n    }\n  });\n};\nexport const getProductsByCategory = categoryId => {\n  const collectionReference = collection(database, 'items');\n  const collectionQuery = query(collectionReference, where('category', '==', categoryId));\n  return getDocs(collectionQuery).then(snapshot => {\n    if (snapshot.size === 0) return [];\n    const list = snapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n    return list;\n  }).catch(error => console.warn(error));\n};","map":{"version":3,"names":["collection","doc","getDoc","getDocs","getFirestore","query","where","database","getAllProducts","collectionReference","then","snapshot","list","docs","map","id","data","catch","error","console","warn","getProduct","itemReference","exists","item","getProductsByCategory","categoryId","collectionQuery","size"],"sources":["/Users/robertorossa/Desktop/Cursos/coderHouse/react-coderhouse-project/src/data/index.js"],"sourcesContent":["import { collection, doc, getDoc, getDocs, getFirestore, query, where } from \"firebase/firestore\";\n\nconst database = getFirestore();\nexport const getAllProducts = () => {\n    const collectionReference = collection(database, 'items');\n\n    return getDocs(collectionReference)\n        .then(snapshot => {\n            const list = snapshot\n                .docs\n                .map((doc) => ({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n\n            return list;\n        })\n        .catch(error => console.warn(error))\n};\n\nexport const getProduct = (id) => {\n    const itemReference = doc(database, 'items', id);\n    return getDoc(itemReference)\n        .then(snapshot => {\n            if (snapshot.exists()) {\n                const item = {\n                    id: snapshot.id,\n                    ...snapshot.data()\n                };\n                return item;\n            }\n        })\n\n};\n\nexport const getProductsByCategory = (categoryId) => {\n\n    const collectionReference = collection(database, 'items');\n\n    const collectionQuery = query(collectionReference, where('category', '==', categoryId))\n\n    return getDocs(collectionQuery)\n        .then(snapshot => {\n            if (snapshot.size === 0)\n                return [];\n\n            const list = snapshot\n                .docs\n                .map((doc) => ({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            return list;\n        })\n        .catch(error => console.warn(error))\n};"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,MAA1B,EAAkCC,OAAlC,EAA2CC,YAA3C,EAAyDC,KAAzD,EAAgEC,KAAhE,QAA6E,oBAA7E;AAEA,MAAMC,QAAQ,GAAGH,YAAY,EAA7B;AACA,OAAO,MAAMI,cAAc,GAAG,MAAM;EAChC,MAAMC,mBAAmB,GAAGT,UAAU,CAACO,QAAD,EAAW,OAAX,CAAtC;EAEA,OAAOJ,OAAO,CAACM,mBAAD,CAAP,CACFC,IADE,CACGC,QAAQ,IAAI;IACd,MAAMC,IAAI,GAAGD,QAAQ,CAChBE,IADQ,CAERC,GAFQ,CAEHb,GAAD,KAAU;MACXc,EAAE,EAAEd,GAAG,CAACc,EADG;MAEX,GAAGd,GAAG,CAACe,IAAJ;IAFQ,CAAV,CAFI,CAAb;IAOA,OAAOJ,IAAP;EACH,CAVE,EAWFK,KAXE,CAWIC,KAAK,IAAIC,OAAO,CAACC,IAAR,CAAaF,KAAb,CAXb,CAAP;AAYH,CAfM;AAiBP,OAAO,MAAMG,UAAU,GAAIN,EAAD,IAAQ;EAC9B,MAAMO,aAAa,GAAGrB,GAAG,CAACM,QAAD,EAAW,OAAX,EAAoBQ,EAApB,CAAzB;EACA,OAAOb,MAAM,CAACoB,aAAD,CAAN,CACFZ,IADE,CACGC,QAAQ,IAAI;IACd,IAAIA,QAAQ,CAACY,MAAT,EAAJ,EAAuB;MACnB,MAAMC,IAAI,GAAG;QACTT,EAAE,EAAEJ,QAAQ,CAACI,EADJ;QAET,GAAGJ,QAAQ,CAACK,IAAT;MAFM,CAAb;MAIA,OAAOQ,IAAP;IACH;EACJ,CATE,CAAP;AAWH,CAbM;AAeP,OAAO,MAAMC,qBAAqB,GAAIC,UAAD,IAAgB;EAEjD,MAAMjB,mBAAmB,GAAGT,UAAU,CAACO,QAAD,EAAW,OAAX,CAAtC;EAEA,MAAMoB,eAAe,GAAGtB,KAAK,CAACI,mBAAD,EAAsBH,KAAK,CAAC,UAAD,EAAa,IAAb,EAAmBoB,UAAnB,CAA3B,CAA7B;EAEA,OAAOvB,OAAO,CAACwB,eAAD,CAAP,CACFjB,IADE,CACGC,QAAQ,IAAI;IACd,IAAIA,QAAQ,CAACiB,IAAT,KAAkB,CAAtB,EACI,OAAO,EAAP;IAEJ,MAAMhB,IAAI,GAAGD,QAAQ,CAChBE,IADQ,CAERC,GAFQ,CAEHb,GAAD,KAAU;MACXc,EAAE,EAAEd,GAAG,CAACc,EADG;MAEX,GAAGd,GAAG,CAACe,IAAJ;IAFQ,CAAV,CAFI,CAAb;IAMA,OAAOJ,IAAP;EACH,CAZE,EAaFK,KAbE,CAaIC,KAAK,IAAIC,OAAO,CAACC,IAAR,CAAaF,KAAb,CAbb,CAAP;AAcH,CApBM"},"metadata":{},"sourceType":"module"}